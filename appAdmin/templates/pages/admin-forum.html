{% extends 'base/admin-index.html' %}
{% load static %}
{% block title %}
  Admin Discussion Forum Management
{% endblock %}
{% block stylesheet %}
  <link rel="stylesheet" href="{% static 'style/css/admin.commodities.css' %}" />
{% endblock %}

{% block content %}
<div class="masonry-item col-12">
  <div class="bd bgc-white">
    <div class="peers fxw-nw@lg+ ai-s">
      <div class="peer peer-greed w-70p@lg+ w-100@lg- p-20">
        <div class="layers">
          <div class="layer w-100 mB-10">
            <h5 class="lh-1">Admin Resources</h5>
          </div>
          <div class="layer w-100">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active" id="dash-forum-tab" data-toggle="tab" href="#dash-forum">Forum Analytics (Search, Reaction, Comments)</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " id="forum-tab" data-toggle="tab" href="#forum">Forum</a>
                </li>
            </ul>
          </div>
          <div class="layer w-100">
            <div class="tab-content">
              <br />
              <div class="tab-pane fade show active" id="dash-forum">
                <div class="d-flex">
                  <div class="flex-grow-1 p-20">
                    <div class="analytics-container" style="max-height: 500px; overflow-y: auto;">
                      <span>should display the Analytics for Search, Reactions, and Comments</span>
                    </div>
                  </div>
                </div>
              </div>

                <div class="tab-pane fade" id="forum">
                <div class="d-flex">
                  <div class="flex-grow-1 p-20">
                    <div class="table-container" style="max-height: 500px; overflow-y: auto;">
                      <table id="discussionTable" class="discussion-table table table-bordered">
                        <thead>
                          <tr>
                            <th>ID</th>
                            <th>Title</th>
                            <th>Question</th>
                            <th>Tagged Commodity</th>
                            <th>Date</th>
                            <th>Likes</th>
                            <th>Dislikes</th>
                            <th>Comments</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>1</td>
                            <td>Best farming techniques</td>
                            <td>What are the best techniques for organic farming?</td>
                            <td>Rice</td>
                            <td>2025-03-18</td>
                            <td>15</td>
                            <td>2</td>
                            <td>5</td>
                            <td>Edit | Delete</td>
                          </tr>
                          <tr>
                            <td>1</td>
                            <td>Best farming techniques</td>
                            <td>What are the best techniques for organic farming?</td>
                            <td>Rice</td>
                            <td>2025-03-18</td>
                            <td>15</td>
                            <td>2</td>
                            <td>5</td>
                            <td>Edit | Delete</td>
                          </tr>
                          <tr>
                            <td>1</td>
                            <td>Best farming techniques</td>
                            <td>What are the best techniques for organic farming?</td>
                            <td>Rice</td>
                            <td>2025-03-18</td>
                            <td>15</td>
                            <td>2</td>
                            <td>5</td>
                            <td>Edit | Delete</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}


{% block script %}
  <script>
    $(document).ready(function () {
      let table = $('#discussionTable').DataTable({
        language: {
          lengthMenu: '_MENU_',
          search: '',
          searchPlaceholder: 'Search...'
        },
        lengthMenu: [
          [3, 5, 7, 10, 25, -1],
          [3, 5, 7, 10, 25, 'All']
        ],
        paging: true,
        lengthChange: true,
        autoWidth: false,
        bInfo: true,
        bSort: true,
        responsive: true,
        buttons: [
          {
            text: 'CSV',
            extend: 'csv'
          },
          {
            text: 'PDF',
            extend: 'pdf'
          }
        ],
        dom: '<"row"<"col-md-1"l><"col-md-8"B><"col-md-3"f>>' + '<"row"<"col-md-12"tr>>' + '<"row"<"col-md-5"i><"col-md-7"p>>'
      })
    })
  </script>
  {% if messages %}
    {% for message in messages %}
      {% if message.tags == 'success' %}
        <script>
          // Display SweetAlert success message
          Swal.fire({
            icon: 'success',
            title: 'Success!',
            text: '{{ message }}'
          })
        </script>
        {% else %}
        <script>
          // Display SweetAlert success message
          Swal.fire({
            icon: 'error',
            title: 'Error!',
            text: '{{ message }}'
          })
        </script>
      {% endif %}
    {% endfor %}
  {% endif %}
{% endblock %}
