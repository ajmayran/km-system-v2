<div class="custom-image-upload">
  {% if widget.is_initial %}
    <div class="mb-2">
      <strong>Current:</strong>
      <a href="{{ widget.value.url }}" target="_blank">
        <img src="{{ widget.value.url }}" alt="Current Image" style="height:50px;border-radius:50%;">
      </a>
    </div>
  {% endif %}

  <div class="input-group">
    <input type="file" name="{{ widget.name }}" class="form-control" {% include "django/forms/widgets/attrs.html" %}>
    {% if widget.is_initial %}
      <div class="input-group-append">
        <div class="form-check" style="margin-left:10px;">
          <input class="form-check-input" type="checkbox" name="{{ widget.checkbox_name }}" id="{{ widget.checkbox_id }}">
          <label class="form-check-label" for="{{ widget.checkbox_id }}">Clear</label>
        </div>
      </div>
    {% endif %}
  </div>

  {% if widget.is_required %}
    <input type="hidden" name="{{ widget.initial_text }}" value="{{ widget.value }}">
  {% endif %}
</div>
