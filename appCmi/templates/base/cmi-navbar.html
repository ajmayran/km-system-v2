{% load static %}
<header>
  <nav class="navbar">
    <div class="inner_navbar">
      <!-- Logo Section -->
      <div class="logo-container">
        <a href="{% url 'appCmi:home' %}">
          <img src="{% static 'assets/images/RAISE-Logo.png' %}" alt="RAISE Logo" class="navbar-logo-raise" />
        </a>
        <div class="text-container">
          <h1 class="t1">km4aanr</h1>
          <h3 class="t2">in WESTERN MINDANAO</h3>
        </div>
      </div>

      <!-- Center Navigation -->
      <div class="navbar-center">
        <ul>
          <li>
            <a href="{% url 'appCmi:home' %}">Home</a>
          </li>
          <li>
            <a href="{% url 'appCmi:cmi-about' %}">About</a>
          </li>
          <li>
            <div class="dropdown">
              <a class="dropdown-fa-toggle-down" id="dropdownLinks" data-toggle="dropdown" aria-haspopup="true">
                Useful Links <i class="fa-solid fa-circle-chevron-down"></i>
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownLinks" id="useful-links-container">
                {% if useful_links %}
                {% for link in useful_links %}
                <a href="{{link.link}}" class="dropdown-item" target="_blank">{{link.link_title}}</a>
                {% endfor %}
                {% else %}
                <a href="#" class="dropdown-item">No Links Yet</a>
                {% endif %}
              </div>
            </div>
          </li>
          <li>
            <div class="dropdown">
              <a class="dropdown-fa-toggle-down" id="dropdownCommodities" data-toggle="dropdown" aria-haspopup="true">
                Commodities <i class="fa-solid fa-circle-chevron-down"></i>
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownCommodities" id="commodities-container">
                <a href="{% url "appCmi:all-commodities" %}" class="dropdown-item">All Commodities</a>

                {% if commodities %}
                {% for commodity in commodities %}
                <a href="{% url "appCmi:display-commodity" commodity.slug %}" class="dropdown-item">{{commodity.commodity_name}}</a>
                {% endfor %}
                {% else %}
                <a href="#" class="dropdown-item">No Commodities Yet</a>
                {% endif %}
              </div>
            </div>
          </li>
          <li>
            <a href="{% url "appCmi:cmi-forum" %}">Forum</a>
          </li>
          <li>
            <div class="dropdown">
              <a class="dropdown-fa-toggle-down" id="dropdownResources" data-toggle="dropdown" aria-haspopup="true">
                Knowledge Resources <i class="fa-solid fa-circle-chevron-down"></i>
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownResources" id="resources-container">
                <a href="{% url 'appCmi:all-knowledge-resources' %}" class="dropdown-item">All Knowledge Resources</a>
                {% if knowledge_resources %}
                {% for knowledge in knowledge_resources %}
                <a href="#" class="dropdown-item">{{knowledge.knowledge_title}}</a>
                {% endfor %}
                {% else %}
                <a href="#" class="dropdown-item">No Knowledge Resources Yet</a>
                {% endif %}
              </div>
            </div>
          </li>
        </ul>
      </div>

      <!-- Right Section (Profile Dropdown) -->
      <div class="navbar-right">
        <div class="dropdown">
          <a class="dropdown-fa-toggle-down profile-toggle" id="profileDropdown" data-toggle="dropdown" aria-haspopup="true">
            <img src="{% static 'assets/images/default_profile.png' %}" alt="Profile" class="profile-image">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="profileDropdown">
            <a class="dropdown-item" href="{% url "appCmi:cmi-profile" %}">
              <i class="fas fa-user"></i> Profile
            </a>
            <a class="dropdown-item" href="#">
              <i class="fas fa-cog"></i> Settings
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'appAccounts:logout' %}">
              <i class="fas fa-sign-out-alt"></i> Logout
            </a>
          </div>
        </div>
      </div>

      <!-- Hamburger Menu -->
      <button class="hamburger">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div class="mobileView" id="mobileView">
      <ul>
        <li><a href="{% url 'appCmi:home' %}">Home</a></li>
        <li><a href="{% url 'appCmi:cmi-about' %}">About</a></li>
        <li>
          <div class="dropdown">
            <a class="dropdown-fa-toggle-down" id="mobileDropdownLinks" data-toggle="dropdown" aria-haspopup="true">
              Useful Links <i class="fa-solid fa-circle-chevron-down"></i>
            </a>
            <div class="dropdown-menu" aria-labelledby="mobileDropdownLinks">
              {% if useful_links %}
              {% for link in useful_links %}
              <a href="#" class="dropdown-item">{{link.link_title}}</a>
              {% endfor %}
              {% else %}
              <a href="#" class="dropdown-item">No Links Yet</a>
              {% endif %}
            </div>
          </div>
        </li>
        <li>
          <div class="dropdown">
            <a class="dropdown-fa-toggle-down" id="mobileDropdownCommodities" data-toggle="dropdown" aria-haspopup="true">
              Commodities <i class="fa-solid fa-circle-chevron-down"></i>
            </a>
            <div class="dropdown-menu" aria-labelledby="mobileDropdownCommodities">
              {% if commodities %}
              {% for commodity in commodities %}
              <a href="#" class="dropdown-item">{{commodity.commodity_name}}</a>
              {% endfor %}
              {% else %}
              <a href="#" class="dropdown-item">No Commodities Yet</a>
              {% endif %}
            </div>
          </div>
        </li>
        <li><a href="{% url 'appCmi:cmi-forum' %}">Forum</a></li>
        <li>
          <div class="dropdown">
            <a class="dropdown-fa-toggle-down" id="mobileDropdownResources" data-toggle="dropdown" aria-haspopup="true">
              Knowledge Resources <i class="fa-solid fa-circle-chevron-down"></i>
            </a>
            <div class="dropdown-menu" aria-labelledby="mobileDropdownResources">
              {% if knowledge_resources %}
              {% for knowledge in knowledge_resources %}
              <a href="#" class="dropdown-item">{{knowledge.knowledge_title}}</a>
              {% endfor %}
              {% else %}
              <a href="#" class="dropdown-item">No Knowledge Resources Yet</a>
              {% endif %}
            </div>
          </div>
        </li>
        <!-- Mobile Profile Section -->
        <li class="mobile-profile-section">
          <div class="mobile-profile-header">
            <img src="{% static 'assets/images/default_profile.png' %}" alt="Profile" class="mobile-profile-image">
            <span>User Profile</span>
          </div>
          <a href="#" class="dropdown-item">
            <i class="fas fa-user"></i> Profile
          </a>
          <a href="#" class="dropdown-item">
            <i class="fas fa-cog"></i> Settings
          </a>
          <div class="dropdown-divider"></div>
          <a href="{% url 'appAccounts:logout' %}" class="dropdown-item">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>
